<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step3 LLM ä¼˜åŒ–æŠ€æœ¯æ·±åº¦è§£æ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #F8F9FA;
            color: #212529;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 450px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .gradient-text {
            background: linear-gradient(90deg, #FF4E50, #F9D423);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .kpi-value {
            font-size: clamp(2.5rem, 8vw, 4.5rem);
            line-height: 1;
        }
        .flow-card {
            background-color: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center py-16">
            <h1 class="text-4xl md:text-6xl font-black mb-4 gradient-text">é‡å¡‘LLMæ•ˆç‡ï¼šStep3çš„åŒé‡åˆ›æ–°</h1>
            <h2 class="text-2xl md:text-3xl font-bold text-slate-800">MFAæ¶æ„é©æ–°ä¸æ³¨æ„åŠ›-FFNè§£è€¦</h2>
            <p class="max-w-3xl mx-auto mt-6 text-lg text-slate-600">å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ¨ç†æ•ˆç‡æ˜¯å…¶å¹¿æ³›åº”ç”¨çš„åŸºçŸ³ã€‚Step3é€šè¿‡ä¸¤é¡¹æ ¸å¿ƒåˆ›æ–°â€”â€”å¤šçŸ©é˜µåˆ†è§£æ³¨æ„åŠ›ï¼ˆMFAï¼‰å’Œæ³¨æ„åŠ›-FFNè§£è€¦ï¼Œä»æ¨¡å‹æ¶æ„å’Œç³»ç»Ÿå±‚é¢åŒç®¡é½ä¸‹ï¼Œæ—¨åœ¨çªç ´ç°æœ‰ç“¶é¢ˆï¼Œå®ç°æ›´é«˜æ•ˆã€æ›´å…·æˆæœ¬æ•ˆç›Šçš„AIæœåŠ¡ã€‚</p>
        </header>

        <main class="space-y-20">

            <section id="problem" class="text-center">
                <div class="bg-white rounded-2xl shadow-xl p-8 md:p-12 border border-slate-100">
                    <h3 class="text-3xl font-bold mb-4 text-slate-900">æ ¸å¿ƒç“¶é¢ˆï¼šå†…å­˜å¢™ä¸èµ„æºé—²ç½®</h3>
                    <p class="max-w-3xl mx-auto text-slate-600 mb-10">LLMæ¨ç†é¢ä¸´ä¸¤å¤§æŒ‘æˆ˜ï¼šé¦–å…ˆæ˜¯éšä¸Šä¸‹æ–‡å¢é•¿è€Œæ€¥å‰§è†¨èƒ€çš„KVç¼“å­˜ï¼Œå®ƒè€—å°½GPUå†…å­˜å¹¶æˆä¸ºå¸¦å®½ç“¶é¢ˆï¼›å…¶æ¬¡æ˜¯ä¼ ç»ŸæœåŠ¡æ¶æ„ä¸­è®¡ç®—ä¸å†…å­˜èµ„æºåˆ©ç”¨ä¸å‡è¡¡ï¼Œå¯¼è‡´GPUç®—åŠ›å¤§é‡é—²ç½®ã€‚</p>
                    <div class="grid md:grid-cols-2 gap-8 items-center mt-10">
                        <div class="flex flex-col items-center justify-center p-6 bg-slate-50 rounded-xl h-full">
                            <div class="text-6xl mb-4">ğŸ§±</div>
                            <p class="text-xl font-bold">KVç¼“å­˜å†…å­˜ç“¶é¢ˆ</p>
                            <p class="text-slate-500">éšåºåˆ—é•¿åº¦çº¿æ€§å¢é•¿</p>
                            <div class="text-5xl my-4 text-slate-300">â¬‡ï¸</div>
                             <div class="text-center">
                                 <p class="text-5xl font-black text-red-500">~4MB</p>
                                 <p class="font-bold text-slate-700 mt-2">/ æ¯ Token</p>
                                 <p class="text-sm text-slate-500">(ä»¥BLOOM-176Bä¸ºä¾‹)</p>
                            </div>
                        </div>
                        <div class="flex flex-col items-center justify-center p-6 bg-slate-50 rounded-xl h-full">
                           <div class="text-6xl mb-4">â³</div>
                            <p class="text-xl font-bold">èµ„æºåˆ©ç”¨ç‡ä½ä¸‹</p>
                            <p class="text-slate-500">é¢„å¡«å……ä¸è§£ç é˜¶æ®µèµ„æºéœ€æ±‚ä¸åŒ¹é…</p>
                            <div class="text-5xl my-4 text-slate-300">â¬‡ï¸</div>
                             <div class="text-center">
                                 <p class="text-5xl font-black text-orange-500">&lt;50%</p>
                                 <p class="font-bold text-slate-700 mt-2">GPUåˆ©ç”¨ç‡</p>
                                 <p class="text-sm text-slate-500">(ä¼ ç»Ÿè§£è€¦æ–¹æ¡ˆ)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="mfa-breakthrough">
                 <div class="bg-gradient-to-br from-[#FF4E50] to-[#F9D423] text-white rounded-2xl shadow-2xl p-8 md:p-12">
                    <h3 class="text-4xl font-bold text-center mb-4">æ¶æ„å±‚é©æ–°ï¼šMFA & MFA-KR</h3>
                    <p class="max-w-3xl mx-auto text-center opacity-90 mb-12">MFAï¼ˆå¤šçŸ©é˜µåˆ†è§£æ³¨æ„åŠ›ï¼‰å¹¶éç®€å•å‹ç¼©KVç¼“å­˜ï¼Œè€Œæ˜¯ä»æ ¹æœ¬ä¸Šé‡æ–°è®¾è®¡å…¶ç”Ÿæˆæ–¹å¼ã€‚é€šè¿‡åœ¨QKç”µè·¯ä¸­åº”ç”¨ä½ç§©çŸ©é˜µåˆ†è§£ï¼ŒMFAåœ¨ä¿æŒç”šè‡³æå‡æ¨¡å‹æ€§èƒ½çš„åŒæ—¶ï¼Œå®ç°äº†KVç¼“å­˜çš„æŒ‡æ•°çº§ç¼©å‡ã€‚</p>
                    
                    <div class="grid lg:grid-cols-2 gap-8 items-center">
                        <div class="chart-container">
                            <canvas id="kvCacheReductionChart"></canvas>
                        </div>
                        <div class="grid grid-cols-1 gap-6">
                            <div class="flow-card rounded-lg p-6 text-center text-slate-800">
                                <p class="kpi-value font-black text-[#FF4E50]">93.7%</p>
                                <p class="font-bold mt-2 text-lg">KVç¼“å­˜æœ€å¤§ç¼©å‡ç‡ (MFA-KR)</p>
                                <p class="text-sm text-slate-600">é€šè¿‡å¤ç”¨Keyä½œä¸ºValueï¼Œå®ç°æè‡´å†…å­˜æ•ˆç‡</p>
                            </div>
                             <div class="flow-card rounded-lg p-6 text-center text-slate-800">
                                <p class="kpi-value font-black text-[#F9D423]">49.9%</p>
                                <p class="font-bold mt-2 text-lg">å¹³å‡åŸºå‡†ç²¾åº¦ (MFA)</p>
                                <p class="text-sm text-slate-600">è¶…è¶Šæ ‡å‡†MHAçš„49.0%ï¼Œæ‰“ç ´æ€§èƒ½æƒè¡¡</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="decoupling-innovation">
                <div class="bg-white rounded-2xl shadow-xl p-8 md:p-12 border border-slate-100">
                    <h3 class="text-3xl font-bold text-center mb-4 text-slate-900">ç³»ç»Ÿå±‚åˆ›æ–°ï¼šæ³¨æ„åŠ›-FFNè§£è€¦</h3>
                    <p class="max-w-3xl mx-auto text-center text-slate-600 mb-12">Step3çš„å¦ä¸€å¤§åˆ›æ–°æ˜¯åœ¨æ¨¡å‹å±‚å†…è§£è€¦è®¡ç®—ç‰¹æ€§ä¸åŒçš„æ¨¡å—ã€‚é€šè¿‡å°†å†…å­˜å¯†é›†å‹çš„æ³¨æ„åŠ›è®¡ç®—ä¸è®¡ç®—å¯†é›†å‹çš„å‰é¦ˆç½‘ç»œï¼ˆFFNï¼‰åˆ†ç¦»ï¼Œç³»ç»Ÿå¯ä»¥ä¸ºå®ƒä»¬åˆ†é…æœ€åˆé€‚çš„å¼‚æ„ç¡¬ä»¶èµ„æºï¼Œå¹¶é‡‡ç”¨ä¸“é—¨çš„å¹¶è¡Œç­–ç•¥ï¼Œä»è€Œæœ€å¤§åŒ–GPUåˆ©ç”¨ç‡å’Œååé‡ã€‚</p>
                    <div class="grid md:grid-cols-3 gap-8 text-center">
                        <div class="flex flex-col items-center p-6 bg-slate-50 rounded-xl">
                            <div class="text-5xl mb-4">ğŸ§ </div>
                            <h4 class="text-xl font-bold">æ³¨æ„åŠ›æ¨¡å—</h4>
                            <p class="text-slate-600 mt-2">å†…å­˜å¯†é›†å‹</p>
                            <div class="text-3xl my-3 text-slate-400">â¬‡ï¸</div>
                            <p class="font-semibold text-green-600">åˆ†é…è‡³é«˜å¸¦å®½å†…å­˜GPU</p>
                        </div>
                        <div class="flex flex-col items-center justify-center">
                            <div class="text-5xl text-yellow-500">â†”ï¸</div>
                            <p class="font-bold mt-2">è§£è€¦ä¸ååŒè°ƒåº¦</p>
                        </div>
                        <div class="flex flex-col items-center p-6 bg-slate-50 rounded-xl">
                            <div class="text-5xl mb-4">âš™ï¸</div>
                            <h4 class="text-xl font-bold">FFNæ¨¡å—</h4>
                            <p class="text-slate-600 mt-2">è®¡ç®—å¯†é›†å‹ (å°¤å…¶MoE)</p>
                            <div class="text-3xl my-3 text-slate-400">â¬‡ï¸</div>
                            <p class="font-semibold text-green-600">åˆ†é…è‡³é«˜ç®—åŠ›GPU</p>
                        </div>
                    </div>
                     <div class="text-center mt-8">
                        <p class="text-2xl font-bold text-slate-800">é¢„æœŸæ”¶ç›Š (åŸºäºç›¸å…³ç ”ç©¶):</p>
                        <p class="text-slate-600">é«˜è¾¾ <strong class="text-green-600 text-3xl">1.9x</strong> çš„æ¯GPUååé‡æå‡ï¼Œä»¥åŠ <strong class="text-green-600 text-3xl">1.7x</strong> çš„å•ä½æˆæœ¬ååé‡æå‡ã€‚</p>
                    </div>
                </div>
            </section>
            
            <section id="landscape">
                <h3 class="text-3xl font-bold text-center mb-4 text-slate-900">ä¼˜åŒ–æŠ€æœ¯ç”Ÿæ€ï¼šååŒè€Œéæ›¿ä»£</h3>
                <p class="max-w-3xl mx-auto text-center text-slate-600 mb-12">Step3çš„åˆ›æ–°å¹¶éå­¤ç«‹å­˜åœ¨ï¼Œè€Œæ˜¯ä¸é‡åŒ–ã€é©±é€ç­‰å…¶ä»–ä¼˜åŒ–æŠ€æœ¯ååŒä½œç”¨ï¼Œå…±åŒæ„å»ºäº†ä¸€ä¸ªå¤šå±‚æ¬¡çš„LLMæ•ˆç‡æå‡æ–¹æ¡ˆã€‚MFAä»æºå¤´å‡å°‘äº†éœ€è¦ç®¡ç†çš„æ•°æ®ï¼Œè€Œè§£è€¦åˆ™ä¼˜åŒ–äº†å¤„ç†è¿™äº›æ•°æ®çš„ç³»ç»Ÿæµç¨‹ã€‚</p>
                 <div class="chart-container">
                    <canvas id="optimizationLayersChart"></canvas>
                </div>
            </section>

            <section id="impact">
                <h3 class="text-3xl font-bold text-center mb-12 text-slate-900">Step3çš„åŒé‡åˆ›æ–°å¸¦æ¥çš„å˜é©</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-2xl shadow-xl p-8 border border-slate-100">
                        <div class="text-5xl mb-4">ğŸ“ˆ</div>
                        <h4 class="text-2xl font-bold mb-3">æ›´ä¼˜çš„æˆæœ¬æ•ˆç›Š</h4>
                        <p class="text-slate-600">é€šè¿‡æ¶æ„å’Œç³»ç»Ÿå±‚é¢çš„åŒé‡ä¼˜åŒ–ï¼ŒStep3èƒ½æ˜¾è‘—é™ä½é•¿ä¸Šä¸‹æ–‡æ¨ç†çš„ç¡¬ä»¶æˆæœ¬å’Œèƒ½è€—ï¼Œä½¿å¾—å¤§è§„æ¨¡éƒ¨ç½²LLMåœ¨ç»æµä¸Šæ›´å…·å¯è¡Œæ€§ã€‚</p>
                    </div>
                    <div class="bg-white rounded-2xl shadow-xl p-8 border border-slate-100">
                        <div class="text-5xl mb-4">ğŸš€</div>
                        <h4 class="text-2xl font-bold mb-3">å“è¶Šçš„å¯æ‰©å±•æ€§</h4>
                        <p class="text-slate-600">MFAçš„å†…å­˜èŠ‚çœæ•ˆæœéšæ¨¡å‹è§„æ¨¡å¢å¤§è€Œå¢å¼ºï¼Œè€Œè§£è€¦æŠ€æœ¯åˆ™ä¸ºæœåŠ¡è¶…å¤§è§„æ¨¡æ¨¡å‹ï¼ˆå¦‚MoEï¼‰æä¾›äº†çµæ´»é«˜æ•ˆçš„æ‰©å±•è·¯å¾„ï¼Œä¸ºæœªæ¥AIçš„å‘å±•é“ºå¹³äº†é“è·¯ã€‚</p>
                    </div>
                </div>
            </section>

        </main>

        <footer class="text-center py-16 mt-20 border-t border-slate-200">
            <p class="text-2xl font-bold text-slate-800">ç»“è®ºï¼šè¿ˆå‘åŸç”Ÿé«˜æ•ˆçš„AIç³»ç»Ÿ</p>
            <p class="text-slate-600 mt-4 max-w-2xl mx-auto">Step3çš„MFAå’Œæ³¨æ„åŠ›-FFNè§£è€¦åˆ›æ–°ï¼Œæ ‡å¿—ç€LLMä¼˜åŒ–æ­£ä»å•ä¸€æŠ€æœ¯ç‚¹çš„ä¿®è¡¥ï¼Œèµ°å‘æ¶æ„ä¸ç³»ç»ŸååŒè®¾è®¡çš„æ•´ä½“æ€§è§£å†³æ–¹æ¡ˆã€‚è¿™ç§â€œè®¾è®¡å³æ•ˆç‡â€çš„ç†å¿µï¼Œæ­£åœ¨æ¨åŠ¨AIç³»ç»Ÿå‘ç€æ›´å¼ºå¤§ã€æ›´æ™®æƒ ã€æ›´å¯æŒç»­çš„æœªæ¥æ¼”è¿›ã€‚</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const FONT_COLOR = '#212529';
            const GRID_COLOR = '#E9ECEF';
            const PALETTE = {
                red: '#FF4E50',
                yellow: '#F9D423',
                darkGray: '#495057',
                lightGray: '#CED4DA'
            };

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                }
                return label;
            };
            
            const wrapLabel = (label, maxLength = 16) => {
                if (typeof label !== 'string' || label.length <= maxLength) return label;
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                for (const word of words) {
                    if ((currentLine + ' ' + word).trim().length > maxLength && currentLine.length > 0) {
                        lines.push(currentLine.trim());
                        currentLine = word;
                    } else {
                        currentLine = (currentLine + ' ' + word).trim();
                    }
                }
                if (currentLine) lines.push(currentLine.trim());
                return lines;
            };

            const defaultChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: FONT_COLOR,
                            font: { size: 12 }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            title: tooltipTitleCallback
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: { color: FONT_COLOR, font: { size: 12 } },
                        grid: { display: false }
                    },
                    y: {
                        ticks: { color: FONT_COLOR, font: { size: 12 } },
                        grid: { color: GRID_COLOR }
                    }
                }
            };

            const kvCacheReductionCtx = document.getElementById('kvCacheReductionChart');
            if (kvCacheReductionCtx) {
                new Chart(kvCacheReductionCtx, {
                    type: 'bar',
                    data: {
                        labels: ['æ ‡å‡† MHA', 'MFA', 'MFA-KR'],
                        datasets: [{
                            label: 'KVç¼“å­˜å ç”¨ (ç›¸å¯¹å€¼)',
                            data: [100, 12.5, 6.3],
                            backgroundColor: [PALETTE.darkGray, PALETTE.red, PALETTE.yellow],
                            borderColor: '#ffffff',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        ...defaultChartOptions,
                        indexAxis: 'y',
                        plugins: {
                            ...defaultChartOptions.plugins,
                            title: { display: true, text: 'KVç¼“å­˜å ç”¨å¯¹æ¯” (ç›¸å¯¹MHA)', color: FONT_COLOR, font: { size: 16, weight: 'bold' } },
                            legend: { display: false }
                        },
                        scales: {
                           x: { ...defaultChartOptions.scales.x, title: { display: true, text: 'ç›¸å¯¹å†…å­˜å ç”¨ (%)', color: FONT_COLOR } },
                           y: { ...defaultChartOptions.scales.y, grid: { display: false } }
                        }
                    }
                });
            }

            const optimizationLayersCtx = document.getElementById('optimizationLayersChart');
            if (optimizationLayersCtx) {
                new Chart(optimizationLayersCtx, {
                    type: 'radar',
                    data: {
                        labels: ['æ¶æ„å±‚ (MFA)', 'ç³»ç»Ÿå±‚ (è§£è€¦)', 'å‹ç¼©å±‚ (é‡åŒ–)', 'ç®¡ç†å±‚ (é©±é€)'],
                        datasets: [{
                            label: 'ä¼˜åŒ–è¦†ç›–åº¦',
                            data: [9, 8, 6, 6],
                            fill: true,
                            backgroundColor: 'rgba(255, 78, 80, 0.2)',
                            borderColor: PALETTE.red,
                            pointBackgroundColor: PALETTE.red,
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: PALETTE.red
                          }, {
                            label: 'ååŒæ½œåŠ›',
                            data: [7, 9, 8, 7],
                            fill: true,
                            backgroundColor: 'rgba(249, 212, 35, 0.2)',
                            borderColor: PALETTE.yellow,
                            pointBackgroundColor: PALETTE.yellow,
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: PALETTE.yellow
                          }]
                    },
                    options: {
                        ...defaultChartOptions,
                        plugins: {
                             ...defaultChartOptions.plugins,
                            title: { display: true, text: 'å¤šå±‚ä¼˜åŒ–ç­–ç•¥ååŒè§†å›¾', color: FONT_COLOR, font: { size: 16, weight: 'bold' } },
                        },
                        scales: {
                            r: {
                                angleLines: { color: GRID_COLOR },
                                grid: { color: GRID_COLOR },
                                pointLabels: { font: { size: 14 } },
                                ticks: {
                                    backdropColor: 'transparent',
                                    color: FONT_COLOR
                                }
                            }
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
